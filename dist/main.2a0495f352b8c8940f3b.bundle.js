webpackJsonp([1,4],{"+bUd":function(t,e,n){"use strict";var o=n("3j3K"),i=n("Fzro"),a=n("tlq7");n.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.http=t}return t.prototype.getChatByRoom=function(t){var e=this;return new Promise(function(n,o){e.http.get(a.a.API_CHAT+t,a.a.API_REQUEST_OPTIONS()).map(function(t){return t.json()}).subscribe(function(t){n(t)},function(t){o(t)})})},t.prototype.saveChat=function(t){var e=this;return new Promise(function(n,o){e.http.post(a.a.API_CHAT,t,a.a.API_REQUEST_OPTIONS()).map(function(t){return t.json()}).subscribe(function(t){n(t)},function(t){o(t)})})},t.prototype.getUsers=function(){return this.http.get(a.a.API_CHAT+"users",a.a.API_REQUEST_OPTIONS())},t.prototype.getUserMessages=function(t){return this.http.get(a.a.API_CHAT+"messages/"+t,a.a.API_REQUEST_OPTIONS())},t.prototype.sendUserMessage=function(t){return this.http.post(a.a.API_CHAT,t,a.a.API_REQUEST_OPTIONS())},t}();c=r([n.i(o.Injectable)(),s("design:paramtypes",["function"==typeof(l=void 0!==i.Http&&i.Http)&&l||Object])],c);var l},"+r6C":function(t,e){t.exports='<md-card class="event-card" *ngIf="auth.authenticated()">\n  <div class="panel-group">\n  <md-card-title-group>\n    <img width="100%" height="300px" md-card-lg-image\n         src="https://static01.nyt.com/images/2009/07/07/nyregion/bikerace-480.jpg"/>\n  </md-card-title-group>\n  </div>\n  <div class="panel-group">\n  <table>\n    <tr>\n      <td class="event-date">\n        <md-card-title-group>\n          <md-card-title><span>{{event.eventStartDateTime}}</span></md-card-title>\n          <md-card-subtitle><strong>{{event.eventStartDateTime}}</strong></md-card-subtitle>\n        </md-card-title-group>\n      </td>\n      <td class="space">\n          <md-divider></md-divider>\n      </td>\n      <td class="event-title">\n        <md-card-title-group>\n          <md-card-title>{{event.eventName}}</md-card-title>\n          <md-card-subtitle>Public : Hosted by <a>{{event.eventOwnerId}}</a></md-card-subtitle>\n        </md-card-title-group>\n      </td>\n    </tr>\n  </table>\n  </div>\n  <div class="button-row">\n    <button md-raised-button (click)="onJoinEvent()"  [disabled]="joined || isOwner">\n      <label *ngIf="!joined">Join</label><label *ngIf="joined">joined</label>\n    </button>\n\n    <button md-raised-button [disabled]="started || !isOwner" >Start</button>\n    <button md-raised-button [disabled]="!started || !isOwner">Stop</button>\n </div>\n  <hr>\n  <div class="panel-group">\n    <md-card-title-group>\n      <md-card-title>{{event.eventStartDateTime}}</md-card-title>\n      <md-card-subtitle>Event Status : <b *ngIf="event.eventStatus">Started</b><b *ngIf="!event.eventStatus">Not Started</b></md-card-subtitle>\n    </md-card-title-group>\n  </div>\n  <div class="panel-group">\n    <md-card-title-group>\n      <md-card-title>{{event.eventStartCity}}, {{event.eventStartState}} {{event.eventStartPostCode}}</md-card-title>\n      <md-card-title>{{event.eventEndCity}}, {{event.eventEndState}} {{event.eventEndPostCode}}</md-card-title>\n      <md-card-subtitle>25 Km distance</md-card-subtitle>\n    </md-card-title-group>\n    <md-card-content>\n\n      <sebm-google-map [latitude]="lat" [longitude]="lng"\n                       [zoom]="zoom">\n\n        <sebm-google-map-marker\n          *ngFor="let m of markers; let i = index"\n          [latitude]="m.lat"\n          [longitude]="m.lng"\n          [label]="m.label"\n          [iconUrl] = "m.iconUrl"\n          [markerDraggable]="m.draggable"\n          (dragEnd)="markerDragEnd(m, $event, i)"\n        ></sebm-google-map-marker>\n      </sebm-google-map>\n    </md-card-content>\n  </div>\n</md-card>\n<md-card class="event-card" >\n  <md-card-title-group>\n    <md-card-title><h4>{{participants}} Participants</h4></md-card-title>\n  <md-card-subtitle>Please spread the word!</md-card-subtitle>\n  </md-card-title-group>\n</md-card>\n\n<md-card class="event-card">\n  <md-card-content>\n    {{event.eventDesc}}\n  </md-card-content>\n</md-card>\n\n\x3c!--<p>{{event.eventName}}</p>--\x3e\n'},"/Gi0":function(t,e,n){"use strict";var o=n("3j3K"),i=n("Fzro"),a=n("Gvdl"),r=(n.n(a),n("tlq7"));n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this.http=t}return t.prototype.postUser=function(t){return this.http.post(r.a.API_USER_ADD,t,r.a.API_REQUEST_OPTIONS()).map(function(t){return t.json()}).catch(function(t){return a.Observable.throw("Error Posting to Server")})},t.prototype.getLoggedInUser=function(){var t=JSON.parse(localStorage.getItem("profile"));return t._id=t.email,t.token=localStorage.getItem("id_token"),t},t.prototype.getUserById=function(t){return console.log("request get : "+r.a.API_URL_USERS+"byId/"+t),this.http.get(r.a.API_URL_USERS+"byId/"+t,r.a.API_REQUEST_OPTIONS()).map(function(t){return t.json()}).catch(function(t){return a.Observable.throw("Error Posting to Server")})},t}();l=s([n.i(o.Injectable)(),c("design:paramtypes",["function"==typeof(d=void 0!==i.Http&&i.Http)&&d||Object])],l);var d},"/cN7":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t,e,n,o,i,a,r,s,c,l,d,u,p,f,m,h){this.eventId=t,this.eventName=e,this.eventStartCity=n,this.eventStartState=o,this.eventStartPostCode=i,this.eventEndCity=a,this.eventEndState=r,this.eventEndPostCode=s,this.eventStartDateTime=c,this.eventOwnerId=l,this.eventStatus=d,this.eventUserIds=u,this.eventDesc=p,this.clubId=f,this.eventStartLoc=m,this.eventEndLoc=h}return t}()},0:function(t,e){},1:function(t,e,n){t.exports=n("x35b")},"1JGM":function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".migaTextArea{min-width:437px}.sebm-google-map-container{height:500px;width:500px}.event-card{min-height:550px}",""]),t.exports=t.exports.toString()},"1kto":function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"",""]),t.exports=t.exports.toString()},"1ptN":function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".table-location{margin-top:20px}.invalid{color:red}.text-area{width:100%}.sebm-google-map-container{height:500px;width:500px}",""]),t.exports=t.exports.toString()},"3+HY":function(t,e,n){"use strict";var o=n("3j3K"),i=n("YI+V"),a=n("7fwu"),r=n("/Gi0");n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,n){var o=this;this.clubService=t,this.auth=e,this.userService=n,this.profile=this.userService.getLoggedInUser(),this.clubService.getClubs().subscribe(function(t){console.log(t.json()),o.clubs=t.json();for(var e in o.clubs)o.clubs[e].userIds.indexOf(o.profile._id)>-1?o.clubs[e].joined=!0:o.clubs[e].joined=!1},function(t){console.log(t)})}return t.prototype.ngOnInit=function(){},t.prototype.joinClub=function(t){var e=this,n=t._id;this.clubService.joinClubs(n,this.profile._id).subscribe(function(n){console.log(n.json()),t.joined=!0,t.userIds.push(e.profile._id)},function(t){console.log(t)})},t}();l=s([n.i(o.Component)({selector:"app-club",template:n("66BJ"),styles:[n("BwD+")]}),c("design:paramtypes",["function"==typeof(d=void 0!==i.a&&i.a)&&d||Object,"function"==typeof(u=void 0!==a.a&&a.a)&&u||Object,"function"==typeof(p=void 0!==r.a&&r.a)&&p||Object])],l);var d,u,p},"5xMp":function(t,e){t.exports='<md-sidenav-container>\n  <md-sidenav #sidenav mode="side"  class="app-sidenav">\n    <app-profile *ngIf="auth.authenticated()" ></app-profile>\n  </md-sidenav>\n  <md-toolbar color="accent" class="mat-accent">\n    <button *ngIf="auth.authenticated()" class="app-icon-button" (click)="sidenav.toggle()">\n      <i class="material-icons app-toolbar-menu">menu</i>\n    </button>\n    Bike Riders Meetup Platform\n    <span class="app-toolbar-filler"></span>\n    <button md-raised-button color="primary" (click)="auth.login()" *ngIf="!auth.authenticated()">Log In</button>\n  </md-toolbar>\n  <div class="app-content">\n    <md-card-header>\n    </md-card-header>\n    <router-outlet></router-outlet>\n  </div>\n</md-sidenav-container>\n'},"66BJ":function(t,e){t.exports='<md-card class="club-card" *ngIf="auth.authenticated()">\n  <div style="float: right">\n    <a [routerLink]="[\'/club/new\']" md-raised-button color="accent">Create club</a>\n  </div>\n  <md-card-title>Clubs list</md-card-title>\n  <div class="form-group has-success has-feedback">\n    <div class="input-group">\n      <span class="input-group-addon">Search:</span>\n      <input #search (keyup)="0" type="text" class="form-control" id="inputGroupSuccess1" aria-describedby="inputGroupSuccess1Status">\n    </div>\n    <span class="glyphicon glyphicon-search form-control-feedback" aria-hidden="true"></span>\n\n  </div>\n\n  <table>\n    <thead>\n    <tr>\n      <th>#</th>\n      <th>Club Logo</th>\n      <th>Club Name</th>\n      <th>Members</th>\n      <th>City</th>\n      <th>State</th>\n      <th>Zipcode</th>\n      <th>#</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr *ngFor="let club of (clubs | clubPipe: search.value); let i = index">\n      <td> {{i+1}} </td>\n      <td><a [routerLink]="[\'/club\', club._id]"><img class="clubLogo" src="{{club.clubImage}}"/></a></td>\n      <td><a [routerLink]="[\'/club\', club._id]">{{club.clubName}}</a></td>\n      <td>{{club.userIds ? club.userIds.length : 0}}</td>\n      <td> {{club.clubCity}} </td>\n      <td> {{club.clubState}} </td>\n      <td> {{club.clubPostCode}} </td>\n      <td>\n        <button type="button" md-raised-button color="accent" [disabled]="club.joined" (click)="joinClub(club)">Join club</button>\n      </td>\n    </tr>\n    </tbody>\n    <md-divider></md-divider>\n\n  </table>\n</md-card>\n'},"7fwu":function(t,e,n){"use strict";var o=n("3j3K"),i=n("2vVT");n.n(i);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){var t=this;this.lock=new Auth0Lock("38Ix505An88v5toZw1RS7pbE4l93BsXr","bikeriders.auth0.com",{}),this.lock.on("authenticated",function(e){t.lock.getProfile(e.idToken,function(t,n){if(t)throw new Error(t);localStorage.setItem("id_token",e.idToken),localStorage.setItem("profile",JSON.stringify(n))})})}return t.prototype.login=function(){this.lock.show()},t.prototype.authenticated=function(){return n.i(i.tokenNotExpired)("id_token")},t.prototype.logout=function(){localStorage.removeItem("id_token"),localStorage.removeItem("profile")},t}();s=a([n.i(o.Injectable)(),r("design:paramtypes",[])],s)},"9rA2":function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".chat{list-style:none;margin:0;padding:0}.chat li{margin-bottom:10px;padding-bottom:5px;border-bottom:1px dotted #b3a9a9}.chat li.left .chat-body{margin-left:60px}.chat li.right .chat-body{margin-right:60px}.chat li .chat-body p{margin:0;color:#777}.chat .glyphicon,.panel .slidedown .glyphicon{margin-right:5px}.panel-body{overflow-y:scroll;height:250px}::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#f5f5f5}::-webkit-scrollbar{width:12px;background-color:#f5f5f5}::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}",""]),t.exports=t.exports.toString()},AT01:function(t,e,n){"use strict";var o=n("3j3K"),i=n("5oXY"),a=n("ToF7"),r=n("/cN7"),s=n("7fwu"),c=n("/Gi0");n.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n,o){var i=this;this.route=t,this.eventService=e,this.userService=n,this.auth=o,this.isOwner=!1,this.joined=!1,this.started=!1,this.participants=0,this.zoom=10,this.lng=-91.970417,this.lat=41.01821,this.lng2=-91.970417,this.lat2=40.91821,this.location={},this.markers=[],this.myEvent={eventStartLoc:{coordinates:[]},eventEndLoc:{coordinates:[]}},this.event=new r.a("","","","",0,"","",0,new Date,1,!1,null,"","",[],[]),this.place="",this.currentUserProfile=n.getLoggedInUser(),this.route.params.subscribe(function(t){i.id=t.id,i.eventService.getEventById(i.id).subscribe(function(t){i.myEvent=t.json(),i.copyObjectToModel(t.json()),i.lng=i.myEvent.eventStartLoc.coordinates[0],i.lat=i.myEvent.eventStartLoc.coordinates[1],i.lng2=i.myEvent.eventEndLoc.coordinates[0],i.lat2=i.myEvent.eventEndLoc.coordinates[1],i.markers.push({lat:i.lat,lng:i.lng,draggable:!1,iconUrl:"https://www.westarenergy.com/Portals/0/favicon.ico"}),i.markers.push({lat:i.lat2,lng:i.lng2,draggable:!1,iconUrl:"https://cdn1.iconfinder.com/data/icons/Momentum_GlossyEntireSet/32/checkered-flag.png"})},function(t){console.log(t)})})}return t.prototype.ngOnInit=function(){},t.prototype.onJoinEvent=function(){var t=this;this.eventService.addUserToEvent(this.event.eventId,this.currentUserProfile._id).subscribe(function(e){console.log(e),t.participants++,t.joined=!0},function(t){console.log(t)})},t.prototype.copyObjectToModel=function(t){this.event.eventId=t._id,this.event.eventName=t.eventName,this.event.eventStatus=t.eventStatus,this.event.eventDesc=t.eventDesc,this.event.eventOwnerId=t.eventOwnerId,this.event.eventStartCity=t.eventStartCity,this.event.eventStartState=t.eventStartState,this.event.eventStartPostCode=t.eventStartPostCode,this.event.eventEndCity=t.eventEndCity,this.event.eventEndState=t.eventEndState,this.event.eventEndPostCode=t.eventEndPostCode,this.event.eventStartDateTime=t.eventStartDateTime,this.eventOwnerName=this.userService.getUserById(t.eventOwnerId),console.log("ownerId : "+this.event.eventOwnerId+", eventOwnerName : "+this.eventOwnerName),this.currentUserProfile._id===this.event.eventOwnerId&&(this.isOwner=!0),this.event.eventStatus&&(this.started=!0),this.participants=t.eventUserIds.length},t}();u=l([n.i(o.Component)({selector:"app-eventdetails",template:n("+r6C"),styles:[n("vJaD")]}),d("design:paramtypes",["function"==typeof(p=void 0!==i.c&&i.c)&&p||Object,"function"==typeof(f=void 0!==a.a&&a.a)&&f||Object,"function"==typeof(m=void 0!==c.a&&c.a)&&m||Object,"function"==typeof(h=void 0!==s.a&&s.a)&&h||Object])],u);var p,f,m,h},"BwD+":function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"table a:link{color:#666}table a:link,table a:visited{font-weight:700;text-decoration:none}table a:visited{color:#999}table a:active,table a:hover{color:#bd5a35;text-decoration:underline}table{font-family:Arial,Helvetica,sans-serif;color:#666;font-size:12px;text-shadow:1px 1px 0 #fff;background:#eaebec;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 2px #d1d1d1}table th{padding:21px 25px 22px;border-top:1px solid #fafafa;border-bottom:1px solid #e0e0e0;background:#ededed;background:-moz-linear-gradient(top,#ededed,#ebebeb)}table th:first-child{text-align:left;padding-left:20px}table tr:first-child th:first-child{border-top-left-radius:3px}table tr:first-child th:last-child{border-top-right-radius:3px}table tr{text-align:center;padding-left:20px}table td:first-child{text-align:left;padding-left:20px;border-left:0}table td{padding:18px;border-top:1px solid #fff;border-bottom:1px solid #e0e0e0;border-left:1px solid #e0e0e0;background:#fafafa;background:-moz-linear-gradient(top,#fbfbfb,#fafafa)}table tr.even td{background:#f6f6f6;background:-moz-linear-gradient(top,#f8f8f8,#f6f6f6)}table tr:last-child td{border-bottom:0}table tr:last-child td:first-child{border-bottom-left-radius:3px}table tr:last-child td:last-child{border-bottom-right-radius:3px}table tr:hover td{background:#f2f2f2;background:-moz-linear-gradient(top,#f2f2f2,#f0f0f0)}.clubLogo{max-height:60px}",""]),t.exports=t.exports.toString()},CveU:function(t,e,n){"use strict";var o=n("3j3K");n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},a=function(){function t(){this.newUsers=[]}return t.prototype.transform=function(t,e){return this.users=t,this.newUsers=[],this.search(e),this.newUsers},t.prototype.search=function(t){console.log(t);for(var e in this.users){((this.users[e].firstName+" "+this.users[e].lastName).toLowerCase().indexOf(t.toLowerCase())>=0||0===t.length)&&this.newUsers.push(this.users[e])}},t}();a=i([n.i(o.Pipe)({name:"searchu",pure:!1})],a)},"DVb/":function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,'.person{position:relative;width:100%;padding:12px 10% 16px;cursor:pointer;background-color:#fff}.truncate{width:25px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.active-chat{min-height:400px}.left .person.active span,.left .person:hover span{color:#fff;background:transparent}.left .person.active{background-color:#00b0ff}.left .person.active,.left .person:hover{margin-top:-1px;margin-left:-1px;padding-top:13px;border:0;width:calc(100% + 2px);padding-left:calc(10% + 1px)}.left .person:hover{background-color:#c5c5c5}.person img{float:left;width:40px;height:40px;margin-right:12px;border-radius:50%}.person .name{font-size:14px;line-height:22px;color:#1a1a1a;font-family:Source Sans Pro,sans-serif;font-weight:600}.person .time{font-size:14px;position:absolute;top:16px;right:10%;padding:0 0 5px 5px;color:#999;background-color:#fff}.left .people .person .preview{font-size:14px;display:inline-block;overflow:hidden!important;width:70%;white-space:nowrap;text-overflow:ellipsis;color:#999}.left ul{list-style:none}.right .top{width:100%;height:47px;padding:15px 29px;background-color:#eceff1}.right .chat{position:relative;display:none;overflow:hidden;padding:0 35px 92px;border-width:1px 1px 1px 0;border-style:solid;border-color:#e6e6e6;height:calc(100% - 48px);-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.right .conversation-start{position:relative;width:100%;margin-bottom:27px;text-align:center}.right .bubble{font-size:16px;position:relative;display:inline-block;clear:both;margin-bottom:8px;padding:13px 14px;vertical-align:top;border-radius:5px}.right .bubble.you{float:left;color:#fff;background-color:#00b0ff;-ms-flex-item-align:start;align-self:flex-start;-webkit-animation-name:slideFromLeft;animation-name:slideFromLeft}.right .bubble.me{float:right;color:#1a1a1a;background-color:#eceff1;-ms-flex-item-align:end;align-self:flex-end;-webkit-animation-name:slideFromRight;animation-name:slideFromRight}.right .chat.active-chat .bubble{transition-timing-function:cubic-bezier(.4,-.04,1,1)}.right .chat.active-chat .bubble:nth-of-type(4){-webkit-animation-duration:.6s;animation-duration:.6s}.left,.right{margin:0;padding:0}.right .bubble.you:before{left:-3px;background-color:#00b0ff}.right .bubble:before{position:absolute;top:19px;display:block;width:8px;height:6px;content:"\\A0";-webkit-transform:rotate(29deg) skew(-35deg);transform:rotate(29deg) skew(-35deg)}.chat.active-chat .bubble{transition-timing-function:cubic-bezier(.4,-.04,1,1)}.right .chat.active-chat .bubble:nth-of-type(3){-webkit-animation-duration:.45s;animation-duration:.45s}.right .conversation-start span:after,.right .conversation-start span:before{position:absolute;top:10px;display:inline-block;width:30%;height:1px;content:"";background-color:#e6e6e6}.right .conversation-start span:before{left:0}*,:after,:before{box-sizing:border-box}.right .conversation-start span:after{right:0}.right .chat.active-chat{display:block;display:-webkit-box;display:-ms-flexbox;display:flex}.left .top{position:relative;width:100%;height:96px;padding:29px}.left input{float:left;width:188px;height:42px;padding:0 15px;border:1px solid #e6e6e6;background-color:#eceff1;border-radius:21px;font-family:Source Sans Pro,sans-serif;font-weight:400}.left a.search{display:block;float:left;width:42px;height:42px;margin-left:10px;border:1px solid #e6e6e6;background-color:#00b0ff;background-image:url(http://s11.postimg.org/dpuahewmn/name_type.png);background-repeat:no-repeat;background-position:top 12px left 14px;border-radius:50%}.left .people{margin-left:-1px;border-right:1px solid #e6e6e6;border-left:1px solid #e6e6e6;width:calc(100% + 2px)}.left .people .person{position:relative;width:100%;padding:12px 10% 16px;cursor:pointer;background-color:#fff}.left .people .person .name{font-size:13px!important;line-height:22px;color:#1a1a1a;font-family:Source Sans Pro,sans-serif;font-weight:600}.right .write{position:absolute;bottom:29px;left:30px;height:42px;padding-left:8px;border:1px solid #e6e6e6;background-color:#eceff1;width:calc(100% - 58px);border-radius:5px}.right .write input{font-size:16px;float:left;width:347px;height:40px;padding:0 10px;color:#1a1a1a;border:0;outline:none;background-color:#eceff1;font-family:Source Sans Pro,sans-serif;font-weight:400}.right .write .write-link.smiley:before{background-image:url(http://s14.postimg.org/q2ug83h7h/smiley.png)}.right .write .write-link.send:before,.right .write .write-link.smiley:before{display:inline-block;float:right;margin-right:2px;width:20px;height:42px;content:"";background-repeat:no-repeat;background-position:50%}.right .write .write-link.send:before{margin-left:11px;background-image:url(http://s30.postimg.org/nz9dho0pp/send.png)}',""]),t.exports=t.exports.toString()},EXx9:function(t,e){t.exports='<md-card class="events-card">\n  <md-card-header>\n    <img md-card-avatar src={{profile.picture}}>\n    <md-card-title><a href="">{{profile.name}}</a></md-card-title>\n    <md-card-subtitle>{{profile.email}}</md-card-subtitle>\n  </md-card-header>\n  <md-card-content>\n    <ul type="none">\n      <a routerLink="/homepage"><md-icon style="margin-right:10px">home</md-icon>Home</a>\n      <li><a routerLink="/events"><md-icon style="margin-right:10px">event</md-icon>Events</a></li>\n      \x3c!--<li><hr></li>--\x3e\n      <li><a routerLink="/club"><md-icon style="margin-right:10px">group</md-icon>Clubs</a></li>\n      \x3c!--<li><hr></li>--\x3e\n      <li><a color="primary" routerLink="/webchat"><md-icon style="margin-right:10px">chat</md-icon>Chat</a></li>\n      <li><hr></li>\n      <li><a color="primary" (click)="auth.logout()" *ngIf="auth.authenticated()"><md-icon>logout</md-icon>Log Out</a></li>\n    </ul>\n  </md-card-content>\n\n</md-card>\n\n'},Iksp:function(t,e,n){"use strict";var o=n("Qbdm"),i=n("3j3K"),a=n("NVOs"),r=n("Fzro"),s=n("YWx4"),c=n("Nuk/"),l=n("ToF7"),d=n("KN8t"),u=n("fYnu"),p=n("rxKx"),f=(n.n(p),n("AT01")),m=n("MGh3"),h=n("+bUd"),g=n("loKk"),b=n("5oXY"),v=n("Q4XH"),y=n("3+HY"),x=n("btxA"),S=n("cSa8"),I=n("7fwu"),w=n("US63"),k=n("/Gi0"),O=n("YI+V"),R=n("PEb6"),j=n("uUvE"),C=n("tlq7"),E=n("CveU"),_=n("9wcb"),P=(n.n(_),n("Jd/R")),T=n("hwKh");n.d(e,"a",function(){return A});var N=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},U=[{path:"homepage",component:v.a},{path:"events",component:m.a},{path:"event/new/:id",component:c.a},{path:"events/:id",component:f.a},{path:"club",component:y.a},{path:"chat",component:g.a},{path:"webchat",component:j.a},{path:"club/new",component:x.a},{path:"club/:id",component:S.a},{path:"announcement/new/:id",component:P.a},{path:"",redirectTo:"homepage",pathMatch:"full"}],A=function(){function t(){}return t}();A=N([n.i(i.NgModule)({declarations:[s.a,c.a,f.a,m.a,g.a,v.a,y.a,x.a,R.a,S.a,j.a,E.a,w.a,P.a],imports:[b.a.forRoot(U),o.a,a.a,a.b,r.HttpModule,d.a,u.a.forRoot(),_.AgmCoreModule.forRoot({apiKey:"AIzaSyAgRXJJQPFMO2ZZVfLea_AEsBIdYikiljw"})],providers:[l.a,h.a,I.a,k.a,O.a,C.a,E.a,T.a],bootstrap:[s.a]})],A)},"Jd/R":function(t,e,n){"use strict";var o=n("3j3K"),i=n("NVOs"),a=n("Ut8I"),r=n("5oXY"),s=n("hwKh");n.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,n,o){this.route=t,this.anService=e,this.fb=n,this.router=o,this.submitted=!1,this.anModel=new a.a("","",new Date,!1,""),this.anForm=this.fb.group({content:["",[i.g.required,i.g.minLength(1)]]})}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){t.clubId=e.id})},t.prototype.onSubmit=function(){var t=this;this.submitted=!0,this.anModel=this.anForm.value,this.anModel.ownerId="1",this.anModel.createdAt=new Date,this.anModel.status=!0,this.anModel.clubId=this.clubId,console.log(this.anModel),this.anService.postAnnouncement(this.anModel).subscribe(function(e){t.router.navigate(["/club/"+t.clubId])},function(t){console.log(t)})},t}();d=c([n.i(o.Component)({selector:"app-create-announcement",template:n("lUF4"),styles:[n("qI4I")]}),l("design:paramtypes",["function"==typeof(u=void 0!==r.c&&r.c)&&u||Object,"function"==typeof(p=void 0!==s.a&&s.a)&&p||Object,"function"==typeof(f=void 0!==i.h&&i.h)&&f||Object,"function"==typeof(m=void 0!==r.b&&r.b)&&m||Object])],d);var u,p,f,m},LYX1:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"table a:link{color:#666}table a:link,table a:visited{font-weight:700;text-decoration:none}table a:visited{color:#999}table a:active,table a:hover{color:#bd5a35;text-decoration:underline}table{font-family:Arial,Helvetica,sans-serif;color:#666;font-size:12px;text-shadow:1px 1px 0 #fff;background:#eaebec;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 2px #d1d1d1}table th{padding:21px 25px 22px;border-top:1px solid #fafafa;border-bottom:1px solid #e0e0e0;background:#ededed;background:-moz-linear-gradient(top,#ededed,#ebebeb)}table th:first-child{text-align:left;padding-left:20px}table tr:first-child th:first-child{border-top-left-radius:3px}table tr:first-child th:last-child{border-top-right-radius:3px}table tr{text-align:center;padding-left:20px}table td:first-child{text-align:left;padding-left:20px;border-left:0}table td{padding:18px;border-top:1px solid #fff;border-bottom:1px solid #e0e0e0;border-left:1px solid #e0e0e0;background:#fafafa;background:-moz-linear-gradient(top,#fbfbfb,#fafafa)}table tr.even td{background:#f6f6f6;background:-moz-linear-gradient(top,#f8f8f8,#f6f6f6)}table tr:last-child td{border-bottom:0}table tr:last-child td:first-child{border-bottom-left-radius:3px}table tr:last-child td:last-child{border-bottom-right-radius:3px}table tr:hover td{background:#f2f2f2;background:-moz-linear-gradient(top,#f2f2f2,#f0f0f0)}.clubLogo{max-height:60px}.userlist{list-style:none}",""]),t.exports=t.exports.toString()},MGh3:function(t,e,n){"use strict";var o=n("3j3K"),i=n("ToF7"),a=n("7fwu"),r=n("/Gi0");n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,n){this.eventService=t,this.userService=e,this.auth=n,this.clubId=null,this.profile=e.getLoggedInUser()}return t.prototype.ngOnInit=function(){var t=this;this.eventService.getEvents(this.clubId).subscribe(function(e){t.events=e},function(t){console.log(t)})},t}();s([n.i(o.Input)(),c("design:type",Object)],l.prototype,"events",void 0),s([n.i(o.Input)(),c("design:type",Object)],l.prototype,"clubId",void 0),s([n.i(o.Input)(),c("design:type",Object)],l.prototype,"profile",void 0),l=s([n.i(o.Component)({selector:"app-events",template:n("OEjs"),styles:[n("MTOx")]}),c("design:paramtypes",["function"==typeof(d=void 0!==i.a&&i.a)&&d||Object,"function"==typeof(u=void 0!==r.a&&r.a)&&u||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object])],l);var d,u,p},MOVZ:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="MOVZ"},MTOx:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".events-card{width:50%}.events-header-image{background-size:cover}.events-header-image,.events-main-image{background-image:url("+n("wtZ3")+")}.events-main-image{width:100%}",""]),t.exports=t.exports.toString()},MyHe:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".sebm-google-map-container{height:500px}",""]),t.exports=t.exports.toString()},"Nuk/":function(t,e,n){"use strict";var o=n("3j3K"),i=n("NVOs"),a=n("ToF7"),r=n("/cN7"),s=n("5oXY"),c=n("7fwu"),l=n("/Gi0");n.d(e,"a",function(){return p});var d=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,n,o,a,s){this.route=t,this.fb=e,this.eventService=n,this.router=o,this.auth=a,this.userService=s,this.submitted=!1,this.eventDesc="The Tour de France is an annual multiple stage bicycle race primarily held in France, while also occasionally making passes through nearby countries.",this.eventModel=new r.a("","","","",0,"","",0,new Date,1,!1,null,"","",[],[]),this.zoom=10,this.lng=-91.970417,this.lat=41.01821,this.lng2=-91.970417,this.lat2=40.91821,this.location={},this.markers=[],this.profile=this.userService.getLoggedInUser(),this.eventForm=e.group({eventName:["",[i.g.required,i.g.minLength(1)]],eventStartCity:["",[i.g.required,i.g.minLength(1)]],eventStartState:["",[i.g.required,i.g.minLength(1)]],eventStartPostCode:["",[i.g.required,i.g.minLength(1)]],eventEndCity:["",[i.g.required,i.g.minLength(1)]],eventEndState:["",[i.g.required,i.g.minLength(1)]],eventEndPostCode:["",[i.g.required,i.g.minLength(1)]],eventStartDateTime:["",[i.g.required,i.g.minLength(1)]],eventLng:["",[i.g.nullValidator]],eventLat:["",[i.g.nullValidator]],eventEndLng:["",[i.g.nullValidator]],eventEndLat:["",[i.g.nullValidator]],eventDesc:[this.eventDesc,[]]})}return t.prototype.onSubmit=function(){var t=this;this.submitted=!0,this.eventModel=this.eventForm.value,this.eventModel.eventOwnerId=this.profile._id,this.eventModel.eventStatus=!1,this.eventModel.clubId=this.clubId;var e={type:"Point",coordinates:[this.lng,this.lat]},n={type:"Point",coordinates:[this.lng2,this.lat2]};this.eventModel.eventStartLoc=e,this.eventModel.eventEndLoc=n,this.eventModel.eventUserIds=[this.profile._id],this.eventService.postEvent(this.eventModel).subscribe(function(e){t.router.navigate(["/events/"+e[0]._id])},function(t){console.log(t)})},t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){t.clubId=e.id}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(this.setPosition.bind(this)),this.markers.push({lat:this.lat,lng:this.lng,draggable:!0}),this.markers.push({lat:this.lat2,lng:this.lng2,draggable:!0})},t.prototype.setPosition=function(t){this.location=t.coords,this.lng=t.coords.longitude,this.lat=t.coords.latitude,this.lng2=this.lng,this.lat2=this.lat-.1},t.prototype.clickedMarker=function(t,e){console.log("clicked the marker: "+(t||e))},t.prototype.markerDragEnd=function(t,e,n){console.log("dragEnd",t,e.coords),0===n?(this.lat=e.coords.lat,this.lng=e.coords.lng):(this.lat2=e.coords.lat,this.lng2=e.coords.lng)},t.prototype.mapClicked=function(t){this.markers=[],this.markers.push({lat:t.coords.lat,lng:t.coords.lng,draggable:!0}),this.lat=t.coords.lat,this.lng=t.coords.lng},t}();p=d([n.i(o.Component)({selector:"app-event",template:n("zIKn"),styles:[n("1ptN")]}),u("design:paramtypes",["function"==typeof(f=void 0!==s.c&&s.c)&&f||Object,"function"==typeof(m=void 0!==i.h&&i.h)&&m||Object,"function"==typeof(h=void 0!==a.a&&a.a)&&h||Object,"function"==typeof(g=void 0!==s.b&&s.b)&&g||Object,"function"==typeof(b=void 0!==c.a&&c.a)&&b||Object,"function"==typeof(v=void 0!==l.a&&l.a)&&v||Object])],p);var f,m,h,g,b,v},OEjs:function(t,e){t.exports='<div *ngIf="auth.authenticated()">\n<p *ngFor="let event of events">\n<md-card class="events-card">\n  <md-card-header>\n    <div md-card-avatar class="events-header-image"></div>\n    <md-card-title><a href="events/{{event._id}}">{{event.eventName}}</a></md-card-title>\n    <md-card-subtitle>Organized by : <a>{{event.eventOwnerId}}</a>, Starts at : <b>{{event.eventStartDateTime}}</b></md-card-subtitle>\n  </md-card-header>\n  <img md-card-image src="../../../assets/biking.jpg">\n  <md-card-content>\n    <p>\n    {{event.eventDesc}}\n    </p>\n  </md-card-content>\n  <md-card-actions>\n    <button md-button>LIKE</button>\n    <button md-button>SHARE</button>\n  </md-card-actions>\n</md-card>\n</p>\n</div>\n'},PEb6:function(t,e,n){"use strict";var o=n("3j3K");n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},a=function(){function t(){}return t.prototype.transform=function(t,e){var n=[],o=e.toLowerCase();for(var i in t)(-1!==t[i].clubName.toLowerCase().indexOf(o)||-1!==t[i].clubCity.toLowerCase().indexOf(o)||-1!==t[i].clubState.toLowerCase().indexOf(o)||t[i].userIds&&-1!==t[i].userIds.length.toString().indexOf(o)||-1!==t[i].clubPostCode.toString().toLowerCase().indexOf(o)||0===e.length)&&n.push(t[i]);return n},t}();a=i([n.i(o.Pipe)({name:"clubPipe"})],a)},Q4XH:function(t,e,n){"use strict";var o=n("3j3K"),i=n("YI+V"),a=n("7fwu");n.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.mapdb=t,this.auth=e,this.zoom=10,this.lat=41.01821,this.lng=-91.970417,this.location={},this.markers=[],this.showCircle=!1,this.btnText="Select Clubs"}return t.prototype.ngOnInit=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(this.setPosition.bind(this))},t.prototype.showClubs=function(){var t=this;this.mapdb.getNearbyClubs(this.lat,this.lng).subscribe(function(e){var n=e.json();for(var o in n)t.markers.push({lat:n[o].loc.coordinates[1],lng:n[o].loc.coordinates[0],label:n[o].loc.clubName,draggable:!1})})},t.prototype.setPosition=function(t){this.location=t.coords,console.log(t.coords)},t.prototype.clickedMarker=function(t,e){console.log("clicked the marker: "+(t||e))},t.prototype.markerDragEnd=function(t,e){console.log("dragEnd",t,e)},t.prototype.mapClicked=function(t){this.markers.push({lat:t.coords.lat,lng:t.coords.lng,draggable:!0})},t}();c=r([n.i(o.Component)({selector:"app-home",template:n("ljLh"),styles:[n("MyHe")]}),s("design:paramtypes",["function"==typeof(l=void 0!==i.a&&i.a)&&l||Object,"function"==typeof(d=void 0!==a.a&&a.a)&&d||Object])],c);var l,d},ToF7:function(t,e,n){"use strict";var o=n("Fzro"),i=n("3j3K"),a=n("Gvdl"),r=(n.n(a),n("+pb+")),s=(n.n(r),n("6Yye")),c=(n.n(s),n("tlq7"));n.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t){this.http=t}return t.prototype.getEventById=function(t){var e=c.a.API_URL+"events/byId/"+t;return this.http.get(e,c.a.API_REQUEST_OPTIONS())},t.prototype.postEvent=function(t){return this.http.post(c.a.API_ADD_EVENT,t,c.a.API_REQUEST_OPTIONS()).map(function(t){return t.json()}).catch(function(t){return a.Observable.throw("Error Posting to Server")})},t.prototype.getEvents=function(t){return t?this.http.get(c.a.API_URL+"events/byClub/"+t,c.a.API_REQUEST_OPTIONS()).map(function(t){return t.json()}).catch(function(t){return a.Observable.throw("Error fetching data from ridersapi")}):this.http.get(c.a.API_URL+"events/",c.a.API_REQUEST_OPTIONS()).map(function(t){return t.json()}).catch(function(t){return a.Observable.throw("Error fetching data from ridersapi")})},t.prototype.addUserToEvent=function(t,e){var n={eventId:t,userId:e};return this.http.post(c.a.API_ADD_USER_TO_EVENT,n,c.a.API_REQUEST_OPTIONS()).map(function(t){return t.json()}).catch(function(t){return a.Observable.throw("Error Posting to Server")})},t}();u=l([n.i(i.Injectable)(),d("design:paramtypes",["function"==typeof(p=void 0!==o.Http&&o.Http)&&p||Object])],u);var p},US63:function(t,e,n){"use strict";var o=n("3j3K"),i=n("7fwu"),a=n("5oXY"),r=n("/Gi0");n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,n){this.router=t,this.auth=e,this.userService=n,this.profile=JSON.parse(localStorage.getItem("profile")),this.profile._id=this.profile.email,this.profile.token=localStorage.getItem("id_token"),this.userService.postUser(this.profile).subscribe(function(t){console.log("user added")},function(t){console.log(t)})}return t.prototype.ngOnInit=function(){},t}();l=s([n.i(o.Component)({selector:"app-profile",template:n("EXx9"),styles:[n("1kto")]}),c("design:paramtypes",["function"==typeof(d=void 0!==a.b&&a.b)&&d||Object,"function"==typeof(u=void 0!==i.a&&i.a)&&u||Object,"function"==typeof(p=void 0!==r.a&&r.a)&&p||Object])],l);var d,u,p},Ut8I:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t,e,n,o,i){this.content=t,this.ownerId=e,this.createdAt=n,this.status=o,this.clubId=i}return t}()},"YI+V":function(t,e,n){"use strict";var o=n("Fzro"),i=n("3j3K"),a=n("Gvdl"),r=(n.n(a),n("+pb+")),s=(n.n(r),n("6Yye")),c=(n.n(s),n("tlq7"));n.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t){this.http=t,this.ridersapiUrl=c.a.API_URL}return t.prototype.postClub=function(t){var e=JSON.stringify(t);return this.http.post(this.ridersapiUrl+"clubs/addclub/",e,c.a.API_REQUEST_OPTIONS()).map(function(t){return t.json()}).catch(function(t){return a.Observable.throw("Error Posting to Server")})},t.prototype.getClubs=function(){return this.http.get(this.ridersapiUrl+"clubs/",c.a.API_REQUEST_OPTIONS())},t.prototype.getNearbyClubs=function(t,e){return this.http.get(c.a.API_URL+"clubs/getnearby?lat="+t+"&lng="+e,c.a.API_REQUEST_OPTIONS())},t.prototype.getClubById=function(t){return this.http.get(this.ridersapiUrl+"clubs/byId/"+t,c.a.API_REQUEST_OPTIONS()).map(function(t){return t.json()}).catch(function(t){return a.Observable.throw("Error fetching data from ridersapi")})},t.prototype.pushAnnounceId=function(t){this.http.post(this.ridersapiUrl+"clubs/addAnnounce",t,c.a.API_REQUEST_OPTIONS())},t.prototype.joinClubs=function(t,e){var n={clubId:t,userId:e};return this.http.post(this.ridersapiUrl+"clubs/addUser",n,c.a.API_REQUEST_OPTIONS())},t}();u=l([n.i(i.Injectable)(),d("design:paramtypes",["function"==typeof(p=void 0!==o.Http&&o.Http)&&p||Object])],u);var p},YWx4:function(t,e,n){"use strict";var o=n("3j3K"),i=n("7fwu");n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.auth=t}return t}();s=a([n.i(o.Component)({selector:"app-root",template:n("5xMp"),styles:[n("okgc")]}),r("design:paramtypes",["function"==typeof(c=void 0!==i.a&&i.a)&&c||Object])],s);var c},ZYHW:function(t,e){t.exports='<md-card class="event-card" *ngIf="auth.authenticated()">\n  <div style="float: right">\n    <sebm-google-map [latitude]="lat" [longitude]="lng"\n                     [zoom]="zoom">\n\n      <sebm-google-map-marker\n        *ngFor="let m of markers; let i = index"\n        [latitude]="m.lat"\n        [longitude]="m.lng"\n        [label]="m.label"\n        (markerClick)="clickedMarker(m.label, i)"\n        [markerDraggable]="m.draggable"\n        (dragEnd)="markerDragEnd(m, $event)"\n      ></sebm-google-map-marker>\n    </sebm-google-map>\n  </div>\n  <md-card-title>Create Club</md-card-title>\n\n  <form [formGroup] = "clubForm" (ngSubmit) = "onSubmit()">\n    <md-input-container>\n      <input mdInput placeholder="Club Name" type="text" id="clubName" name="clubName" #clubName formControlName="clubName">\n      <small class="invalid" [hidden]="clubForm.controls[\'clubName\'].valid || (clubForm.controls[\'clubName\'].pristine && !submitted)">\n        Club name is take, try other name.\n      </small>\n    </md-input-container>\n    <br/>\n    <md-input-container>\n      <textarea class="migaTextArea" mdInput placeholder="Club Description" type="text" id="clubDescription" name="clubDescription" #clubDescription formControlName="clubDescription"></textarea>\n      <small class="invalid" [hidden]="clubForm.controls[\'clubDescription\'].valid || (clubForm.controls[\'clubDescription\'].pristine && !submitted)">\n        Please insert club description.\n      </small>\n    </md-input-container>\n    <table class="table-location" cellspacing="0">\n      <tr><td>Club Location</td></tr>\n      <tr>\n        <td><md-input-container class="example-full-width">\n          <input mdInput placeholder="City" type="text" formControlName="clubCity">\n        </md-input-container></td>\n        <td>\n          <md-input-container class="example-full-width">\n          <input mdInput placeholder="State" [mdAutocomplete]="auto" formControlName="clubState" autocomplete="off">\n          </md-input-container>\n\n          <md-autocomplete #auto="mdAutocomplete">\n            <md-option *ngFor="let state of filteredStates | async" [value]="state">\n              {{ state }}\n            </md-option>\n          </md-autocomplete>\n        </td>\n        <td><md-input-container class="example-full-width">\n          <input type="number" mdInput #clubPostCode maxlength="5" placeholder="Postal Code" formControlName="clubPostCode">\n        </md-input-container></td>\n      </tr>\n      <tr><td>Location</td></tr>\n      <tr>\n        <td><md-input-container class="example-full-width">\n          <input mdInput #clubLat placeholder="Latitude" type="text" formControlName="clubLat" value="{{lat}}">\n        </md-input-container></td>\n        <td><md-input-container class="example-full-width">\n          <input mdInput #clubLng type="text" placeholder="Longitude" formControlName="clubLng" value="{{lng}}">\n        </md-input-container></td>\n      </tr>\n    </table>\n\n\n    <md-input-container class="table-location">\n      <input mdInput placeholder="Club Image" type="text" id="clubImage" name="clubImage" #clubImage formControlName="clubImage" value="">\n    </md-input-container>\n    \x3c!--<input type="file"--\x3e\n           \x3c!--ngFileSelect--\x3e\n           \x3c!--[options]="options"--\x3e\n           \x3c!--(onUpload)="handleUpload($event)"--\x3e\n           \x3c!--(beforeUpload)="beforeUpload($event)">--\x3e\n    <br>\n    <button type="submit" md-raised-button color="accent" [disabled]="!clubForm.valid">Create Club</button>\n  </form>\n</md-card>\n'},btxA:function(t,e,n){"use strict";var o=n("3j3K"),i=n("NVOs"),a=n("YI+V"),r=n("uyxV"),s=n("5oXY"),c=n("/lY3"),l=(n.n(c),n("7fwu")),d=n("/Gi0"),u=n("tlq7");n.d(e,"a",function(){return m});var p=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},m=function(){function t(t,e,n,o,a){var s=this;this.fb=t,this.clubService=e,this.router=n,this.auth=o,this.userService=a,this.submitted=!1,this.clubModel=new r.a("","","",0,"",0,[],[],[],[]),this.zoom=10,this.lat=41.01821,this.lng=-91.970417,this.location={},this.markers=[],this.showCircle=!1,this.btnText="Select Clubs",this.states=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],this.hasBaseDropZoneOver=!1,this.options={url:u.a.API_URL+"imageUpload",customHeaders:{email:"jaraaxai@gmail.com"}},this.sizeLimit=2e6,this.profile=this.userService.getLoggedInUser(),this.clubForm=this.fb.group({clubName:["",[i.g.required,i.g.minLength(1)]],clubDescription:["",[i.g.required,i.g.minLength(1)]],clubCity:["",[i.g.required,i.g.minLength(1)]],clubState:["",[i.g.required,i.g.minLength(1)]],clubLat:["",[i.g.nullValidator]],clubLng:["",[i.g.nullValidator]],clubPostCode:["",[i.g.required,i.g.minLength(1),i.g.maxLength(5)]],clubImage:["",[i.g.nullValidator]]}),this.filteredStates=this.clubForm.controls.clubState.valueChanges.startWith(null).map(function(t){return s.filterStates(t)})}return t.prototype.filterStates=function(t){return t?this.states.filter(function(e){return new RegExp("^"+t,"gi").test(e)}):this.states},t.prototype.onSubmit=function(){var t=this;this.submitted=!0,this.clubModel=this.clubForm.value,this.clubModel.clubOwnerId=this.profile._id;var e={type:"Point",coordinates:[this.lng,this.lat]};this.clubModel.loc=e,this.clubModel.userIds=[this.profile._id],this.clubModel.eventIds=[],this.clubModel.announceIds=[],console.log(this.clubModel),this.clubService.postClub(this.clubModel).subscribe(function(e){t.router.navigate(["/club/"+e[0]._id])},function(t){console.log(t)})},t.prototype.ngOnInit=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(this.setPosition.bind(this)),this.markers.push({lat:this.lat,lng:this.lng,draggable:!0})},t.prototype.setPosition=function(t){this.location=t.coords,this.lat=t.coords.latitude,this.lng=t.coords.longitude},t.prototype.clickedMarker=function(t,e){console.log("clicked the marker: "+(t||e))},t.prototype.markerDragEnd=function(t,e){console.log("dragEnd",t,e.coords),this.lat=e.coords.lat,this.lng=e.coords.lng},t.prototype.mapClicked=function(t){this.markers=[],this.markers.push({lat:t.coords.lat,lng:t.coords.lng,draggable:!0}),this.lat=t.coords.lat,this.lng=t.coords.lng},t.prototype.handleUpload=function(t){t&&t.response&&(t=JSON.parse(t.response),this.uploadFile=t)},t.prototype.fileOverBase=function(t){this.hasBaseDropZoneOver=t},t.prototype.beforeUpload=function(t){t.size>this.sizeLimit&&(t.setAbort(),alert("File is too large"))},t}();m=p([n.i(o.Component)({selector:"app-creat-club",template:n("ZYHW"),styles:[n("1JGM")]}),f("design:paramtypes",["function"==typeof(h=void 0!==i.h&&i.h)&&h||Object,"function"==typeof(g=void 0!==a.a&&a.a)&&g||Object,"function"==typeof(b=void 0!==s.b&&s.b)&&b||Object,"function"==typeof(v=void 0!==l.a&&l.a)&&v||Object,"function"==typeof(y=void 0!==d.a&&d.a)&&y||Object])],m);var h,g,b,v,y},cSa8:function(t,e,n){"use strict";var o=n("3j3K"),i=n("5oXY"),a=n("YI+V"),r=n("uyxV"),s=n("hwKh"),c=n("7fwu"),l=n("/Gi0");n.d(e,"a",function(){return p});var d=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,n,o,i){this.route=t,this.clubService=e,this.anService=n,this.auth=o,this.userService=i,this.club=new r.a("","","",0,"",0,[],[],[],""),this.isOwner=!1,this.profile=this.userService.getLoggedInUser()}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){t.id=e.id,t.clubService.getClubById(t.id).subscribe(function(e){t.club=e.myClub,t.announcements=e.myAnnounce,t.members=e.myMembers,t.club.clubOwnerId===t.profile._id&&(t.isOwner=!0)})})},t.prototype.deleteAn=function(t){var e=this.announcements.indexOf(t);-1!==e&&this.announcements.splice(e,1)},t}();p=d([n.i(o.Component)({selector:"app-detail-club",template:n("gU1S"),styles:[n("LYX1")]}),u("design:paramtypes",["function"==typeof(f=void 0!==i.c&&i.c)&&f||Object,"function"==typeof(m=void 0!==a.a&&a.a)&&m||Object,"function"==typeof(h=void 0!==s.a&&s.a)&&h||Object,"function"==typeof(g=void 0!==c.a&&c.a)&&g||Object,"function"==typeof(b=void 0!==l.a&&l.a)&&b||Object])],p);var f,m,h,g,b},gU1S:function(t,e){t.exports='<md-card class="club-card" *ngIf="auth.authenticated()">\n  <div style="float: right">\n    <a [routerLink]="[\'/event/new\', club._id]" md-raised-button color="accent">Create event</a>\n    <a [routerLink]="[\'/announcement/new\', club._id]" md-raised-button color="accent">Create announcement</a>\n  </div>\n  <md-card-title>{{club.clubName}}</md-card-title>\n  <img src="{{club.clubImage}}"/>\n  <p>{{club.clubDescription}}</p>\n  <div style="float: right;">\n    <h4>Announcements</h4>\n  <table>\n    <thead>\n    <tr>\n      <th>#</th>\n      <th>Announcement</th>\n      <th>Created At</th>\n      <th *ngIf="isOwner">#</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr *ngFor="let announcement of announcements; let i = index">\n      <td> {{i+1}} </td>\n      <td> {{announcement.content}} </td>\n      <td> {{announcement.createdAt | date: \'short\'}} </td>\n      <td *ngIf="isOwner"><a (click)="deleteAn(announcement)">x</a></td>\n    </tr>\n    </tbody>\n    <md-divider></md-divider>\n\n  </table>\n    <h4>Members</h4>\n    <ul class="userlist">\n      <li *ngFor="let profile of members" >\n        <md-card-header>\n          <img md-card-avatar src={{profile.picture}}>\n          <md-card-title><a href="">{{profile.name}}</a></md-card-title>\n          <md-card-subtitle>{{profile.email}}</md-card-subtitle>\n        </md-card-header></li>\n    </ul>\n  </div>\n    <div>\n      <h4>Events</h4>\n      <app-events [clubId]="id"></app-events>\n    </div>\n\n\n</md-card>\n'},hwKh:function(t,e,n){"use strict";var o=n("3j3K"),i=n("Fzro"),a=n("rCTf"),r=(n.n(a),n("+pb+")),s=(n.n(r),n("6Yye")),c=(n.n(s),n("tlq7"));n.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t){this.http=t,this.ridersapiUrl=c.a.API_URL}return t.prototype.postAnnouncement=function(t){var e=JSON.stringify(t);return this.http.post(this.ridersapiUrl+"announce/addannounce/",e,c.a.API_REQUEST_OPTIONS()).map(function(t){return t.json()}).catch(function(t){return a.Observable.throw("Error Posting to Server")})},t.prototype.getAnnouncement=function(t){if(t)return this.http.get(this.ridersapiUrl+"announce/byClub/"+t,c.a.API_REQUEST_OPTIONS()).map(function(t){return t.json()}).catch(function(t){return a.Observable.throw("Error fetching data from ridersapi")})},t}();u=l([n.i(o.Injectable)(),d("design:paramtypes",["function"==typeof(p=void 0!==i.Http&&i.Http)&&p||Object])],u);var p},i8wm:function(t,e){t.exports='<div class="col-md-3 left" style="" *ngIf="auth.authenticated()">\n  <div class="top">\n    <input type="text" (onkeyup)="0" #search>\n    <a href="javascript:;" class="search"></a>\n  </div>\n  <ul>\n      <li *ngFor="let user of users" (click)="onUserClick(user)"\n          class="person" [ngClass]="activeUserId == user._id ? \'active\' : \'\'">\n          \x3c!--*ngIf="onSearch(user.firstName,  user.lastName,  search.value)"--\x3e\n        <img src="{{user.picture}}" alt="">\n        <span class="name truncate">{{user.name}}</span>\n        <span class="time">17:11</span>\n        <div class="preview">{{userActions[user._id]}}</div>\n      </li>\n    </ul>\n  </div>\n  <div class="col-md-8 right" >\n    <div class="top"><span>To: <span class="name">{{activeUserName}}</span></span></div>\n    <div class="chat active-chat" >\n      <div #scrollMe style="overflow-y: auto; max-height: 500px">\n        <div class="conversation-start">\n          <span>Today, 5:38 PM</span>\n        </div>\n        <div  *ngFor="let m of messages" class="bubble {{m.toId == this.activeUserId ? \'me\' : \'you\'}}">\n          {{m.msg}}\n        </div>\n      </div>\n\n    </div>\n    <div class="write" *ngIf="activeUserId != undefined">\n      <a href="javascript:;" class="write-link attach"></a>\n      <input name="msg" type="text"  #newm (keydown)="newMessage = newm.value; onTyping()" [value]="newMessage" (keyup.enter)="onMessageSend(newm.value)">\n      <a href="javascript:;" class="write-link smiley"></a>\n      <span href="#" (click)="onMessageSend(newm.value)" class="write-link send"></span>\n    </div>\n  </div>\n\n'},kZql:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o={production:!0}},lUF4:function(t,e){t.exports='<md-card class="event-card">\n  <md-card-title>Create Announcement</md-card-title>\n\n  <form [formGroup] = "anForm" (ngSubmit) = "onSubmit()">\n    <md-input-container>\n      <input mdInput placeholder="Club Name" type="text" id="content" name="content" #content formControlName="content">\n      <small class="invalid" [hidden]="anForm.controls[\'content\'].valid || (anForm.controls[\'content\'].pristine && !submitted)">\n        Please insert announcement description.\n      </small>\n    </md-input-container>\n    <br/>\n    <button type="submit" md-raised-button color="accent" [disabled]="!anForm.valid">Create</button>\n  </form>\n</md-card>\n'},ljLh:function(t,e){t.exports='<div class="row" *ngIf="auth.authenticated()">\n  <button class="btn btn-primary" (click)="showClubs()">{{btnText}}</button>\n  <a [routerLink]="[\'/club/new\']" md-raised-button color="accent">Create club</a>\n</div>\n<div class="row" *ngIf="auth.authenticated()">\n  <sebm-google-map [latitude]="lat" [longitude]="lng"\n                   [zoom]="zoom"\n                   (mapClick)="mapClicked($event)">\n\n    <sebm-google-map-marker\n      *ngFor="let m of markers; let i = index"\n      [latitude]="m.lat"\n      [longitude]="m.lng"\n      [label]="m.label"\n      (markerClick)="clickedMarker(m.label, i)"\n      [markerDraggable]="m.draggable"\n      (dragEnd)="markerDragEnd(m, $event)"\n    >\n      <sebm-google-map-info-window [disableAutoPan]="true">\n        <div style="text-align: center"><strong>{{m.clubName}}</strong></div>\n        <div>\n          City: {{m.clubCity}}\n        </div>\n        <div>\n          Description: {{m.clubDescription}}\n        </div>\n      </sebm-google-map-info-window>\n\x3c!--https://plnkr.co/edit/zyzs6LtVpQKeiz9JryJ9?p=preview--\x3e\n    </sebm-google-map-marker>\n    <sebm-google-map-circle *ngIf="showCircle"\n                            [latitude]="lat"\n                            [longitude]="lng"\n                            [radius]="5000"\n                            [fillColor]="\'red\'"\n                            [circleDraggable]="true"\n                            [editable]="true">\n    </sebm-google-map-circle>\n  </sebm-google-map>\n</div>\n'},loKk:function(t,e,n){"use strict";var o=n("3j3K"),i=n("+bUd"),a=n("DmT9"),r=(n.n(a),n("7fwu"));n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.chatService=t,this.auth=e,this.joinned=!1,this.newUser={nickname:"",room:""},this.msgData={room:"",nickname:"",message:""},this.socket=a("https://cyclingapi.herokuapp.com/")}return t.prototype.ngOnInit=function(){var t=JSON.parse(localStorage.getItem("user"));null!==t&&(console.log("ngInit"),this.getChatByRoom(t.room),this.msgData={room:t.room,nickname:t.nickname,message:""},this.joinned=!0,this.scrollToBottom()),this.socket.on("new-message",function(e){e.message.room===JSON.parse(localStorage.getItem("user")).room&&(this.chats.push(e.message),this.msgData={room:t.room,nickname:t.nickname,message:""},this.scrollToBottom())}.bind(this))},t.prototype.ngAfterViewChecked=function(){this.scrollToBottom()},t.prototype.scrollToBottom=function(){try{this.myScrollContainer.nativeElement.scrollTop=this.myScrollContainer.nativeElement.scrollHeight}catch(t){}},t.prototype.getChatByRoom=function(t){var e=this;this.chatService.getChatByRoom(t).then(function(t){e.chats=t},function(t){console.log(t)})},t.prototype.joinRoom=function(){var t=new Date;localStorage.setItem("user",JSON.stringify(this.newUser)),this.getChatByRoom(this.newUser.room),this.msgData={room:this.newUser.room,nickname:this.newUser.nickname,message:""},this.joinned=!0,this.socket.emit("save-message",{room:this.newUser.room,nickname:this.newUser.nickname,message:"Join this room",updated_at:t})},t.prototype.sendMessage=function(){var t=this;this.chatService.saveChat(this.msgData).then(function(e){console.log(e),t.socket.emit("save-message",e)},function(t){console.log(t)})},t.prototype.logout=function(){var t=new Date,e=JSON.parse(localStorage.getItem("user"));this.socket.emit("save-message",{room:e.room,nickname:e.nickname,message:"Left this room",updated_at:t}),localStorage.removeItem("user"),this.joinned=!1},t}();s([n.i(o.ViewChild)("scrollMe"),c("design:type","function"==typeof(d=void 0!==o.ElementRef&&o.ElementRef)&&d||Object)],l.prototype,"myScrollContainer",void 0),l=s([n.i(o.Component)({selector:"app-chat",template:n("y5EM"),styles:[n("9rA2")]}),c("design:paramtypes",["function"==typeof(u=void 0!==i.a&&i.a)&&u||Object,"function"==typeof(p=void 0!==r.a&&r.a)&&p||Object])],l);var d,u,p},okgc:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"md-sidenav-layout.m2app-dark{background:#000}.app-content{padding:20px}.app-content md-card{margin:20px}.app-sidenav{padding:10px;min-width:200px}.app-content md-checkbox{margin:10px}.app-toolbar-filler{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.app-toolbar-menu{padding:0 14px;color:#fff}.app-icon-button{box-shadow:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:none;border:none;cursor:pointer;-webkit-filter:none;filter:none;font-weight:400;height:auto;line-height:inherit;margin:0;min-width:0;padding:0;text-align:left;text-decoration:none}.app-action{display:inline-block;position:fixed;bottom:20px;right:20px}.app-spinner{height:30px;width:30px;display:inline-block}.app-input-icon{font-size:16px}.app-list{border:1px solid rgba(0,0,0,.12);width:350px}.app-list,.app-progress{margin:20px}.mat-button-focus-overlay,.mat-button-ripple{position:absolute;top:0;left:0;bottom:0;right:0}.mat-ripple{overflow:hidden}",""]),t.exports=t.exports.toString()},qI4I:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"",""]),t.exports=t.exports.toString()},tlq7:function(t,e,n){"use strict";var o=n("Fzro");n.d(e,"a",function(){return i});var i=function(){function t(){}return t}();i.API_URL="https://cyclingapi.herokuapp.com/",i.API_CHAT=i.API_URL+"chat/",i.API_URL_USERS=i.API_URL+"users/",i.API_USER_ADD=i.API_URL_USERS+"adduser/",i.API_EVENTS=i.API_URL+"events/",i.API_ADD_EVENT=i.API_EVENTS+"addevent/",i.AUTH="Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IlFqTkJNMEl6T0RKQ09EYzFNRVpGT1VRNE1FTkVNVEUxT1RreE4wUXdOakEzTXpFMU1rTTRSQSJ9",i.API_ADD_USER_TO_EVENT=i.API_EVENTS+"adduser/",i.API_REQUEST_OPTIONS=function(){var t=new o.Headers({"Content-Type":"application/json"});t.append("authorization","Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IlFqTkJNMEl6T0RKQ09EYzFNRVpGT1VRNE1FTkVNVEUxT1RreE4wUXdOakEzTXpFMU1rTTRSQSJ9.eyJpc3MiOiJodHRwczovL2Jpa2VyaWRlcnMuYXV0aDAuY29tLyIsInN1YiI6InpHTWhDMVpEeVNYdUY5YnkxVEZSTVQ4Y2RpeHFGSnRsQGNsaWVudHMiLCJhdWQiOiJodHRwOi8vbG9jYWxob3N0OjkwMDAiLCJleHAiOjE0OTMyNzM4NTIsImlhdCI6MTQ5MzE4NzQ1Miwic2NvcGUiOiIifQ.nFy2FeC5SeNEiTgHyqA20R69qS7r1mRgSzDzVInRtrUY8qXOgivXwAuXV5dPVf3T3QjPCsUvyTPA7wcqB5ZQu8-kWr1n32prnTleRb83IhXr04DmoD1Uaeb-j98876fbmxFWzlWDJxXpL_FfIevRKvDmz-Gg1cwniPFbZfjnBWBBSdPiO0nOKrtuDFUmor7hs7-oRdRB2oyQnndC4wWNSB0UvJIn52BbldTx69P5btaN2V4xaJg8SHTRhga8f2oMSpfAztSDjw110ye8SHG225O7ghe4qAtFJuC0V1nuaPTM6l7OawJ4tDmE-_hKpq0T32U1R6eELHeRGqDfSIRX-A");var e=localStorage.getItem("id_token");t.append("token",e);var n=JSON.parse(localStorage.getItem("profile")),i=n.email;return t.append("email",i),new o.RequestOptions({headers:t})},i.API_REQUEST_HEADER=function(){var t=new o.Headers({"Content-Type":"application/json"});t.append("authorization","Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IlFqTkJNMEl6T0RKQ09EYzFNRVpGT1VRNE1FTkVNVEUxT1RreE4wUXdOakEzTXpFMU1rTTRSQSJ9.eyJpc3MiOiJodHRwczovL2Jpa2VyaWRlcnMuYXV0aDAuY29tLyIsInN1YiI6InpHTWhDMVpEeVNYdUY5YnkxVEZSTVQ4Y2RpeHFGSnRsQGNsaWVudHMiLCJhdWQiOiJodHRwOi8vbG9jYWxob3N0OjkwMDAiLCJleHAiOjE0OTMyNzM4NTIsImlhdCI6MTQ5MzE4NzQ1Miwic2NvcGUiOiIifQ.nFy2FeC5SeNEiTgHyqA20R69qS7r1mRgSzDzVInRtrUY8qXOgivXwAuXV5dPVf3T3QjPCsUvyTPA7wcqB5ZQu8-kWr1n32prnTleRb83IhXr04DmoD1Uaeb-j98876fbmxFWzlWDJxXpL_FfIevRKvDmz-Gg1cwniPFbZfjnBWBBSdPiO0nOKrtuDFUmor7hs7-oRdRB2oyQnndC4wWNSB0UvJIn52BbldTx69P5btaN2V4xaJg8SHTRhga8f2oMSpfAztSDjw110ye8SHG225O7ghe4qAtFJuC0V1nuaPTM6l7OawJ4tDmE-_hKpq0T32U1R6eELHeRGqDfSIRX-A");var e=localStorage.getItem("id_token");t.append("token",e);var n=JSON.parse(localStorage.getItem("profile")),i=n.email;return t.append("email",i),t}},uUvE:function(t,e,n){"use strict";var o=n("3j3K"),i=n("+bUd"),a=n("DmT9"),r=(n.n(a),n("tlq7")),s=n("7fwu");n.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e){this.chatdb=t,this.auth=e,this.userActions={},this.newMessage="",this.joined=!1,this.activeUserName="",this.socket=a(r.a.API_URL)}return t.prototype.ngAfterViewChecked=function(){this.scrollToBottom()},t.prototype.scrollToBottom=function(){try{this.myScrollContainer.nativeElement.scrollTop=this.myScrollContainer.nativeElement.scrollHeight}catch(t){}},t.prototype.ngOnInit=function(){var t=this;console.log(this.socket),this.socket.on("connect",function(){console.log("connect done"),this.socket.emit("authenticate",{headers:{token:localStorage.getItem("id_token"),email:JSON.parse(localStorage.getItem("profile")).email}})}.bind(this)),this.chatdb.getUsers().subscribe(function(e){t.users=e.json(),console.log(e.json());for(var n in t.users)t.userActions[t.users[n]._id]="";console.log(t.userActions)}),null!==JSON.parse(localStorage.getItem("user"))&&(console.log("ngInit"),this.joined=!0),this.socket.on("new-message",function(t){console.log(t),this.messages.push(t),this.scrollToBottom()}.bind(this)),this.socket.on("heistyping",function(t){console.log(t),console.log(this.userActions),this.userActions[t.message.hash]="typing...",this.clearLater(t.message.hash)}.bind(this)),this.scrollToBottom()},t.prototype.clearLater=function(t){var e=this;setTimeout(function(t){e.userActions[t]=""},1500,t)},t.prototype.onUserClick=function(t){var e=this;this.activeUserId=t._id,this.activeUserName=t.name,this.chatdb.getUserMessages(this.activeUserId).subscribe(function(t){e.messages=t.json(),console.log(e.messages),console.log(e.activeUserId)})},t.prototype.onTyping=function(){this.socket.emit("iamtyping",{toId:this.activeUserId})},t.prototype.onMessageSend=function(t){if(console.log(t+" input"),0!==t.length){this.messages.toId=this.activeUserId;var e={msg:t,toId:this.activeUserId};this.chatdb.sendUserMessage(e).subscribe(function(t){return console.log(t.json())}),this.messages.push(e),this.newMessage=""}},t.prototype.onSearch=function(t,e){return console.log(e),t.toLowerCase().indexOf(e.toLowerCase())>=0||0===e.length},t}();c([n.i(o.ViewChild)("scrollMe"),l("design:type","function"==typeof(u=void 0!==o.ElementRef&&o.ElementRef)&&u||Object)],d.prototype,"myScrollContainer",void 0),d=c([n.i(o.Component)({selector:"app-web-chat",template:n("i8wm"),styles:[n("DVb/")]}),l("design:paramtypes",["function"==typeof(p=void 0!==i.a&&i.a)&&p||Object,"function"==typeof(f=void 0!==s.a&&s.a)&&f||Object])],d);var u,p,f},uyxV:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t,e,n,o,i,a,r,s,c,l){this.clubName=t,this.clubCity=e,this.clubState=n,this.clubPostCode=o,this.clubImage=i,this.clubOwnerId=a,this.eventIds=r,this.userIds=s,this.announceIds=c,this.loc=l}return t}()},vJaD:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".event-card{width:50%;margin:10px}.event-date{padding-right:20px;border:1px solid #000;background-color:coral;color:#fff}.event-date,.event-title{padding-left:10px}.space{width:20px}.sebm-google-map-container{height:500px;width:100%}",""]),t.exports=t.exports.toString()},wtZ3:function(t,e,n){t.exports=n.p+"biking.37002f0b243b3ffab0d2.jpg"},x35b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("3j3K"),i=n("O61y"),a=n("Iksp");n("kZql").a.production&&n.i(o.enableProdMode)(),n.i(i.a)().bootstrapModule(a.a)},y5EM:function(t,e){t.exports='<div class="container" *ngIf="auth.authenticated()">\n  <div class="row">\n    <div class="col-md-5">\n      <div class="panel panel-primary" *ngIf="joinned; else joinroom">\n        <div class="panel-heading">\n          <span class="glyphicon glyphicon-comment"></span> {{ msgData.room }}\n          <div class="btn-group pull-right">\n            <button type="button" class="btn btn-default btn-xs" (click)="logout()">\n              Logout\n            </button>\n          </div>\n        </div>\n        <div #scrollMe class="panel-body">\n          <ul class="chat">\n            <li *ngFor="let c of chats">\n              <div class="left clearfix" *ngIf="c.nickname===msgData.nickname; else rightchat">\n                            <span class="chat-img pull-left">\n                              <img src="http://placehold.it/50/55C1E7/fff&text=ME" alt="User Avatar" class="img-circle" />\n                            </span>\n                <div class="chat-body clearfix">\n                  <div class="header">\n                    <strong class="primary-font">{{ c.nickname }}</strong> <small class="pull-right text-muted">\n                    <span class="glyphicon glyphicon-time"></span>{{ c.updated_at | date: \'medium\' }}</small>\n                  </div>\n                  <p>{{ c.message }}</p>\n                </div>\n              </div>\n              <ng-template #rightchat>\n                <div class="right clearfix">\n                              <span class="chat-img pull-right">\n                                <img src="http://placehold.it/50/FA6F57/fff&text=U" alt="User Avatar" class="img-circle" />\n                              </span>\n                  <div class="chat-body clearfix">\n                    <div class="header">\n                      <small class=" text-muted"><span class="glyphicon glyphicon-time"></span>{{ c.updated_at | date: \'medium\' }}</small>\n                      <strong class="pull-right primary-font">{{ c.nickname }}</strong>\n                    </div>\n                    <p>{{ c.message }}</p>\n                  </div>\n                </div>\n              </ng-template>\n            </li>\n          </ul>\n        </div>\n        <div class="panel-footer">\n          <form (ngSubmit)="sendMessage()" #msgForm="ngForm">\n            <div class="input-group">\n              <input type="hidden" [(ngModel)]="msgData.room" name="room" />\n              <input type="hidden" [(ngModel)]="msgData.nickname" name="nickname" />\n              <input id="btn-input" type="text" [(ngModel)]="msgData.message" name="message" class="form-control input-sm" placeholder="Type your message here..." required="" />\n              <span class="input-group-btn">\n                            <button class="btn btn-warning btn-sm" id="btn-chat" [disabled]="!msgForm.form.valid">\n                                Send</button>\n                        </span>\n            </div>\n          </form>\n        </div>\n      </div>\n      <ng-template #joinroom>\n        <div class="panel panel-primary">\n          <div class="panel-body">\n            <h1>Select Chat Room</h1>\n            <form (ngSubmit)="joinRoom()" #joinForm="ngForm">\n              <div class="form-group">\n                <input type="text" class="form-control" [(ngModel)]="newUser.nickname" name="nickname" placeholder="Nickname" required="" />\n              </div>\n              <div class="form-group">\n                <select class="form-control" [(ngModel)]="newUser.room" name="room" required="">\n                  <option>Select Room</option>\n                  <option value="Javascript">Javascript</option>\n                  <option value="Java">Java</option>\n                  <option value="Python">Python</option>\n                </select>\n              </div>\n              <div class="form-group">\n                <button type="submit" class="btn btn-success" [disabled]="!joinForm.form.valid">Join</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </ng-template>\n    </div>\n  </div>\n</div>\n'},zIKn:function(t,e){t.exports='<md-card class="event-card" *ngIf="auth.authenticated()">\n  <div style="float: right">\n    <sebm-google-map [latitude]="lat" [longitude]="lng"\n                     [zoom]="zoom">\n      <sebm-google-map-marker\n        *ngFor="let m of markers; let i = index"\n        [latitude]="m.lat"\n        [longitude]="m.lng"\n        [label]="m.label"\n        (markerClick)="clickedMarker(m.label, i)"\n        [markerDraggable]="m.draggable"\n        (dragEnd)="markerDragEnd(m, $event, i)"\n      ></sebm-google-map-marker>\n    </sebm-google-map>\n  </div>\n  <md-card-title>Create Event</md-card-title>\n  <form [formGroup] = "eventForm" (ngSubmit) = "onSubmit()">\n  <md-input-container>\n    <input mdInput placeholder="Event Name" type="text" id="eventName" name="eventName" #eventName formControlName="eventName" value="Winter Cycling">\n    <small class="invalid" [hidden]="eventForm.controls[\'eventName\'].valid || (eventForm.controls[\'eventName\'].pristine && !submitted)">\n     Required field\n    </small>\n  </md-input-container>\n   <table class="table-location" cellspacing="0">\n     <tr><td>Start Location</td></tr>\n     <tr>\n      <td><md-input-container class="example-full-width">\n        <input mdInput placeholder="City" name="eventStartCity" formControlName="eventStartCity">\n        <small class="invalid" [hidden]="eventForm.controls[\'eventStartCity\'].valid || (eventForm.controls[\'eventStartCity\'].pristine && !submitted)">\n          Required field\n        </small>\n      </md-input-container></td>\n      <td><md-input-container class="example-full-width">\n        <input mdInput placeholder="State" name="eventStartState" formControlName="eventStartState">\n        <small class="invalid" [hidden]="eventForm.controls[\'eventStartState\'].valid || (eventForm.controls[\'eventStartState\'].pristine && !submitted)">\n          Required field\n        </small>\n      </md-input-container></td>\n      <td><md-input-container class="example-full-width">\n        <input type="number" mdInput #eventStartPostCode maxlength="5" placeholder="Postal Code" name="eventStartPostCode" formControlName="eventStartPostCode">\n        <small class="invalid" [hidden]="eventForm.controls[\'eventStartPostCode\'].valid || (eventForm.controls[\'eventStartPostCode\'].pristine && !submitted)">\n          Required field\n        </small>\n      </md-input-container></td>\n    </tr>\n     <tr>\n       <td><md-input-container class="example-full-width">\n         <input mdInput #eventLng type="text" placeholder="Longitude" formControlName="eventLng" value="{{lng}}">\n       </md-input-container></td>\n       <td><md-input-container class="example-full-width">\n         <input mdInput #eventLat placeholder="Latitude" type="text" formControlName="eventLat" value="{{lat}}">\n       </md-input-container></td>\n\n     </tr>\n   </table>\n\n    <table class="table-location" cellspacing="0">\n      <tr><td>End Location</td></tr>\n      <tr>\n        <td><md-input-container class="example-full-width">\n          <input mdInput placeholder="City" name="eventEndCity" formControlName="eventEndCity">\n          <small class="invalid" [hidden]="eventForm.controls[\'eventEndCity\'].valid || (eventForm.controls[\'eventEndCity\'].pristine && !submitted)">\n            Required field\n          </small>\n        </md-input-container></td>\n        <td><md-input-container class="example-full-width">\n          <input mdInput placeholder="State" name="eventEndState" formControlName="eventEndState">\n          <small class="invalid" [hidden]="eventForm.controls[\'eventEndState\'].valid || (eventForm.controls[\'eventEndState\'].pristine && !submitted)">\n            Required field\n          </small>\n        </md-input-container></td>\n        <td><md-input-container class="example-full-width">\n          <input type="number" mdInput #eventEndPostCode maxlength="5" placeholder="Postal Code" name="eventEndPostCode" formControlName="eventEndPostCode">\n          <small class="invalid" [hidden]="eventForm.controls[\'eventEndPostCode\'].valid || (eventForm.controls[\'eventEndPostCode\'].pristine && !submitted)">\n            Required field\n          </small>\n        </md-input-container></td>\n      </tr>\n      <tr>\n        <td><md-input-container class="example-full-width">\n          <input mdInput #eventEndLng type="text" placeholder="Longitude" formControlName="eventEndLng" value="{{lng2}}">\n        </md-input-container></td>\n        <td><md-input-container class="example-full-width">\n          <input mdInput #eventEndLat placeholder="Latitude" type="text" formControlName="eventEndLat" value="{{lat2}}">\n        </md-input-container></td>\n\n      </tr>\n    </table>\n\n    <md-input-container class="table-location">\n      <input id="dateTime" type="datetime-local" mdInput placeholder="Start Date Time" name="eventStartDateTime" formControlName="eventStartDateTime">\n      <small class="invalid" [hidden]="eventForm.controls[\'eventStartDateTime\'].valid || (eventForm.controls[\'eventStartDateTime\'].pristine && !submitted)">\n        Required field\n      </small>\n    </md-input-container>\n    <br>\n    \x3c!--<input mdInput placeholder="Event Description" id="eventDesc" name="eventDesc" formControlName="eventDesc">--\x3e\n    <label for="eventDesc">Event Description</label><br>\n    <textarea class="text-area" id="eventDesc" name="eventDesc" formControlName="eventDesc"></textarea>\n    <br>\n    <button type="submit" [disabled]="!eventForm.valid" md-raised-button color="accent">Create Event</button>\n  </form>\n</md-card>\n'}},[1]);